####  Используемые  либы

- nltk - для   статической обрабоки  текста ( разбиение на  предложения  и слова)
- словарь от  libreoffice

###### Лирика: существуют либы для поиска ошибок, к примеру 
- pyenchant - для поиска  ошибок 
- difflib - для  вычисления  различий  между словами

###### Но мы будем  использовать для  поиска ошибок
- алгоритм Левенштейна для сравнения 2 строк
- и алгоритм сравнения строк на основе коэффициента Жаккара
- затем  для  однознаности  -  поиск  однокоренных слов

##### Предположения,  границы схожести,  которые можно  регулирвоать

- по Ливенштейну, если  расстоние между словами < 1, то скорее  всего они очень похожи
- коэффициент Жаккара, если коэффициент  < 0.199, то скорее всего слова  так же очень схожи
- Если слова однокоренные  в диапазоне больше 85, то скорее всего исходное слова  написано верно или меньше 65, то оно вообще не походит

##### Архитектура алгоритма 

```mermaid
flowchart TB
	A[Загрузить справочник  слов]
	B[Разобьем исходный текст на слова]
	C[Проходим по  каждому слову]		
	M[Определить наименьшее расстояние  \n по Левенштейну и коэффициента Жаккара \n каждого слова по словарю]
	D{Если расстояние \т по Ливенштейну < 1 \n и коэффициента Жаккара <=0.199}
	H[Получаем список похожих слов]
	J{Находим однокоренное слова с \n искомым из списка выше}
	K{Если процент схожести \n в  диапазоне от 65 до 85, \n то слово  скорее всего  написано с ошибкой}
	L[Заменяем ошибочное  слово \n в исходном тексте]
	A --> B
	B --> C	 	
	C --> M	
	M --> D
	D --> H	
	H --> J
	J --> K	
	K --> L
	

```

#### Настройка  ```Ubuntu```

1. Создать виртуальное окружение  

  ```python3 -m venv venv ```
  
2. Активируем  окружение 

``` source venv/bin/activate```

3. Установить зависимости 
 
  ```pip install -r requirements.txt```
 
3. И запуск)

  ```python3 main.py -f sample.txt ```


#### Пример запуска ```Windows```

```python
python  main.py -f C:\Users\user\Documents\PROJECTS\orfo_error\sample.txt
```

**Результат работы скрипта**

```python
2022-03-20 16:58:35,246 [INFO] Поиск  ошибок ...
сонце
2022-03-20 16:58:35,519 [INFO] Исходное  предложение:           Выплыла из-за леса сонце.
2022-03-20 16:58:35,521 [INFO] Найденные ошибки: ['сонце']
2022-03-20 16:58:35,522 [INFO] Возможно имелось ввиду:           выплыла из-за леса солнце.
....

```
